<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPA Example</title>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://unpkg.com/htmx.org@1.6.1" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module">
        import { LitElement, html, css } from 'https://unpkg.com/lit@2.0.0/lit.min.js';

        class MyComponent extends LitElement {
            static styles = css`
                :host {
                    display: block;
                    padding: 16px;
                    color: white;
                    background-color: #007bff;
                }
            `;

            render() {
                return html`<div class="p-4 bg-blue-500 text-white">Hello, I am a Lit component!</div>`;
            }
        }

        customElements.define('my-component', MyComponent);
    </script>
</head>

<body>
    <div x-data="{ page: 'home' }">
        <nav class="p-4 bg-gray-800 text-white">
            <button @click="navigate('home')" class="mr-4">Home</button>
            <button @click="navigate('about')">About</button>
        </nav>
        <div id="content" hx-boost="true" class="p-4">
            <my-component></my-component>
        </div>
    </div>
    <script>
        function navigate(page) {
            const url = new URL(window.location);
            url.searchParams.set('page', page);
            window.history.pushState({}, '', url);
            htmx.ajax('GET', `${page}.html`, { target: '#content' });
        }

        document.addEventListener('DOMContentLoaded', function () {
            const params = new URLSearchParams(window.location.search);
            const page = params.get('page');
            if (page === 'home') {
                htmx.ajax('GET', 'home.html', { target: '#content' });
            } else if (page === 'about') {
                htmx.ajax('GET', 'about.html', { target: '#content' });
            }
        });
    </script>
</body>

</html>